{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","forDetailUrl","getPhones","url","fetch","then","response","ok","json","setTimeout","Promise","reject","Error","status","statusText","catch","error","window","console","warn","getPhonesDetails","IDs","all","map","id","phones","log","list","document","createElement","innerHTML","phone","join","body","append","details"],"mappings":";AAAA,aAEA,IAAMA,EAAW,wEAEXC,EAAe,oEAGrB,SAASC,EAAUC,GACVC,OAAAA,MAASD,GAAAA,OAAAA,IACbE,KAAK,SAAAC,GACA,OAACA,EAASC,GAKPD,EAASE,OAJPC,WAAW,WAAMC,OAAAA,QAAQC,OAC9B,IAAIC,MAASN,GAAAA,OAAAA,EAASO,OAAYP,OAAAA,OAAAA,EAASQ,eAAgB,OAKhEC,MAAM,SAAAC,GAASC,OAAAA,OAAOC,QAAQC,KAAKH,KAGxC,SAASI,EAAiBC,GACjBX,OAAAA,QAAQY,IAAID,EAAIE,IAAI,SAAAC,GAAMtB,OAAAA,EAAaD,GAAAA,OAAAA,GAAeuB,OAAAA,EAAhC,aAG/BtB,EAAUF,GACPK,KAAK,SAAAoB,GACJR,OAAOC,QAAQQ,IAAI,WAAYD,GAEzBE,IAAAA,EAAOC,SAASC,cAAc,MAEpCF,EAAKG,UACDL,WAAAA,OAAAA,EAAOF,IAAI,SAAAQ,GAETA,MAAAA,yBAAAA,OAAAA,EAAMP,GAFQ,2BAIfQ,KAAK,IALV,UAOAJ,SAASK,KAAKC,OAAOP,KAGzBzB,EAAUF,GACPK,KAAK,SAAAoB,GAGGJ,OAFKI,EAAOF,IAAI,SAAAQ,GAASA,OAAAA,EAAMP,OAIvCnB,KAAK,SAAAgB,GAAOD,OAAAA,EAAiBC,KAC7BhB,KAAK,SAAA8B,GAAWlB,OAAAA,OAAOC,QAAQQ,IAAI,YAAaS","file":"main.f0caef45.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/'\n  + 'phone-catalogue-static/api/phones.json';\nconst forDetailUrl = 'https://mate-academy.github.io/'\n  + 'phone-catalogue-static/api/phones/';\n\nfunction getPhones(url) {\n  return fetch(`${url}`)\n    .then(response => {\n      if (!response.ok) {\n        return setTimeout(() => Promise.reject(\n          new Error(`${response.status} - ${response.statusText}`)), 5000);\n      }\n\n      return response.json();\n    })\n    .catch(error => window.console.warn(error));\n}\n\nfunction getPhonesDetails(IDs) {\n  return Promise.all(IDs.map(id => getPhones(`${forDetailUrl}${id}.json`)));\n}\n\ngetPhones(BASE_URL)\n  .then(phones => {\n    window.console.log('Phones: ', phones);\n\n    const list = document.createElement('ul');\n\n    list.innerHTML = `\n      ${phones.map(phone => `\n      <li>\n        ${phone.id}\n      </li>\n      `).join('')}\n    `;\n    document.body.append(list);\n  });\n\ngetPhones(BASE_URL)\n  .then(phones => {\n    const IDs = phones.map(phone => phone.id);\n\n    return IDs;\n  })\n  .then(IDs => getPhonesDetails(IDs))\n  .then(details => window.console.log('Details: ', details));\n"]}